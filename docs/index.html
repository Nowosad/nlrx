<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Setup, run and analyze NetLogo model simulations from R via XML • nlrx</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Setup, run and analyze NetLogo model simulations from R via XML">
<meta property="og:description" content="The nlrx package provides tools to setup, run and analyze NetLogo model simulations in R.
    nlrx experiments use a similar structure as NetLogos Behavior Space experiments. 
    However, nlrx offers more flexibility and additional tools for running and anlyzing complex simulation designs and sensitivity analyses.
    The user defines all information that is needed in an intuitive framework, using S4 class objects.
    Experiments are submitted from R to NetLogo via XML files that are dynamically written, based on specifications defined by the user.
    By nesting model calls in future environments, large simulation design with many runs can be executed in parallel.
    This also enables simulating NetLogo experiments on remote HPC machines.">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">nlrx</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/getstarted.html">Vignette Title</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nldoc/nlrx">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="nlrx" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#nlrx" class="anchor"></a>nlrx <img src="reference/figures/logo.png" align="right" width="150">
</h1></div>

<p>The nlrx package provides tools to setup NetLogo simulations in R. It uses a similar structure as NetLogos Behavior Space but offers more flexibility and additional tools for running sensitivity analyses.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the released version of nlrx from <a href="https://CRAN.R-project.org">CRAN</a> with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"nlrx"</span>)</code></pre></div>
<p>And the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"nldoc/nlrx"</span>)</code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>The nlrx package uses S4 classes to store basic information on NetLogo, the model experiment and the simulation design. Experiment and simulation design class objects are stored within the nl class object. This allows to have a complete simulation setup within one single R object.</p>
<p>The following steps guide you trough the process on how to setup, run and analyze NetLogo model simulations with nlrx</p>
<div id="step-1-create-a-nl-object" class="section level4">
<h4 class="hasAnchor">
<a href="#step-1-create-a-nl-object" class="anchor"></a>Step 1: Create a nl object:</h4>
<p>The nl object holds all information on the NetLogo version, a path to the NetLogo directory with the defined version, a path to the model file, and the desired memory for the java virtual machine.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nl &lt;-<span class="st"> </span><span class="kw"><a href="reference/nl.html">nl</a></span>(<span class="dt">nlversion =</span> <span class="st">"6.0.3"</span>,
         <span class="dt">nlpath =</span> <span class="st">"C:/Program Files/NetLogo 6.0.3/"</span>,
         <span class="dt">modelpath =</span> <span class="st">"C:/Program Files/NetLogo 6.0.3/app/models/Sample Models/Biology/Wolf Sheep Predation.nlogo"</span>,
         <span class="dt">jvmmem =</span> <span class="dv">1024</span>)</code></pre></div>
</div>
<div id="step-2-attach-an-experiment" class="section level4">
<h4 class="hasAnchor">
<a href="#step-2-attach-an-experiment" class="anchor"></a>Step 2: Attach an experiment</h4>
<p>The experiment object is organized in a similar fashion as NetLogo BehaviorSpace experiments. It holds information on model variables, constants, metrics, runtime, …</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nl<span class="op">@</span>experiment &lt;-<span class="st"> </span><span class="kw"><a href="reference/experiment.html">experiment</a></span>(<span class="dt">expname=</span><span class="st">"wolf-sheep"</span>,
                            <span class="dt">outpath=</span><span class="st">"C:/out/"</span>,
                            <span class="dt">repetition=</span><span class="dv">1</span>,
                            <span class="dt">tickmetrics=</span><span class="st">"true"</span>,
                            <span class="dt">idsetup=</span><span class="st">"setup"</span>,
                            <span class="dt">idgo=</span><span class="st">"go"</span>,
                            <span class="dt">idfinal=</span><span class="ot">NA_character_</span>,
                            <span class="dt">idrunnum=</span><span class="ot">NA_character_</span>,
                            <span class="dt">runtime=</span><span class="dv">50</span>,
                            <span class="dt">evalticks=</span><span class="kw">seq</span>(<span class="dv">40</span>,<span class="dv">50</span>),
                            <span class="dt">metrics=</span><span class="kw">c</span>(<span class="st">"count sheep"</span>, <span class="st">"count wolves"</span>, <span class="st">"count patches with [pcolor = green]"</span>),
                            <span class="dt">variables =</span> <span class="kw">list</span>(<span class="st">'initial-number-sheep'</span> =<span class="st"> </span><span class="kw">list</span>(<span class="dt">min=</span><span class="dv">50</span>, <span class="dt">max=</span><span class="dv">150</span>, <span class="dt">step=</span><span class="dv">10</span>, <span class="dt">qfun=</span><span class="st">"qunif"</span>),
                                             <span class="st">'initial-number-wolves'</span> =<span class="st"> </span><span class="kw">list</span>(<span class="dt">min=</span><span class="dv">50</span>, <span class="dt">max=</span><span class="dv">150</span>, <span class="dt">step=</span><span class="dv">10</span>, <span class="dt">qfun=</span><span class="st">"qunif"</span>)),
                            <span class="dt">constants =</span> <span class="kw">list</span>(<span class="st">"model-version"</span> =<span class="st"> "</span><span class="ch">\"</span><span class="st">sheep-wolves-grass</span><span class="ch">\"</span><span class="st">"</span>,
                                             <span class="st">"grass-regrowth-time"</span> =<span class="st"> </span><span class="dv">30</span>,
                                             <span class="st">"sheep-gain-from-food"</span> =<span class="st"> </span><span class="dv">4</span>,
                                             <span class="st">"wolf-gain-from-food"</span> =<span class="st"> </span><span class="dv">20</span>,
                                             <span class="st">"sheep-reproduce"</span> =<span class="st"> </span><span class="dv">4</span>,
                                             <span class="st">"wolf-reproduce"</span> =<span class="st"> </span><span class="dv">5</span>,
                                             <span class="st">"show-energy?"</span> =<span class="st"> "false"</span>))</code></pre></div>
</div>
<div id="step-3-attach-a-simulation-design" class="section level4">
<h4 class="hasAnchor">
<a href="#step-3-attach-a-simulation-design" class="anchor"></a>Step 3: Attach a simulation design</h4>
<p>While the experiment defines the variables and specifications of the model, the simulation design creates a parameter input table based on these model specifications and the chosen simulation design method. nlrx provides a bunch of different simulation designs, such as full-factorial, latin-hypercube, sobol, morris and eFast. A simulation design is attached to a nl object by using one of these simdesign functions:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nl<span class="op">@</span>simdesign &lt;-<span class="st"> </span><span class="kw"><a href="reference/simdesign_lhs.html">simdesign_lhs</a></span>(<span class="dt">nl=</span>nl,
                               <span class="dt">samples=</span><span class="dv">100</span>,
                               <span class="dt">nseeds=</span><span class="dv">3</span>,
                               <span class="dt">precision=</span><span class="dv">3</span>)</code></pre></div>
</div>
<div id="step-4-run-simulations" class="section level4">
<h4 class="hasAnchor">
<a href="#step-4-run-simulations" class="anchor"></a>Step 4: Run simulations</h4>
<p>All information that is needed to run the simulations is now stored within the nl object. The run_nl_one() function allows to run one specific simulation from the siminput parameter table. The run_nl_all() function runs a loop over all simseeds and rows of the parameter input table siminput. The loops are created by calling furr::future_map_dfr which allows running the function either locally or on remote HPC machines.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">future<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/future/topics/plan">plan</a></span>(multisession)

results <span class="op">%&lt;-%</span><span class="st"> </span><span class="kw"><a href="reference/run_nl_all.html">run_nl_all</a></span>(<span class="dt">nl =</span> nl, <span class="dt">cleanup =</span> <span class="st">"all"</span>)</code></pre></div>
</div>
<div id="step-5-attach-results-to-nl-and-run-analysis" class="section level4">
<h4 class="hasAnchor">
<a href="#step-5-attach-results-to-nl-and-run-analysis" class="anchor"></a>Step 5: Attach results to nl and run analysis</h4>
<p>nlrx provides method specific analysis functions for each simulation design. Depending on the chosen design, the function reports a tibble with aggregated results or sensitivity indices. In order to run the analyze_nl function, the simulation output has to be attached to the nl object first. After attaching the simulation results, these can also be written to the defined outpath of the experiment object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Attach results to nl object:</span>
<span class="kw"><a href="reference/setsim.html">setsim</a></span>(nl, <span class="st">"simoutput"</span>) &lt;-<span class="st"> </span>results

<span class="co"># Write output to outpath of experiment within nl</span>
<span class="kw"><a href="reference/write_simoutput.html">write_simoutput</a></span>(nl)

<span class="co"># Do further analysis:</span>
<span class="kw"><a href="reference/analyze_nl.html">analyze_nl</a></span>(nl)</code></pre></div>
</div>
</div>
<div id="further-notes" class="section level2">
<h2 class="hasAnchor">
<a href="#further-notes" class="anchor"></a>Further notes</h2>
<div id="comments-on-simdesigns-and-variable-definitions" class="section level4">
<h4 class="hasAnchor">
<a href="#comments-on-simdesigns-and-variable-definitions" class="anchor"></a>Comments on simdesigns and variable definitions</h4>
<p>Correctly defining variables within the experiment class object is crucial for creating simdesigns. The implemented simdesigns have different requirements for variable definitions:</p>
<table class="table table">
<thead><tr class="header">
<th>Simdesign</th>
<th>Variable requirements</th>
<th>data type</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>simdesign_simple</td>
<td>only constants are used</td>
<td>any</td>
</tr>
<tr class="even">
<td>simdesign_distinct</td>
<td>values (need to have equal length)</td>
<td>any</td>
</tr>
<tr class="odd">
<td>simdesign_ff</td>
<td>values, or min, max, step (values is prioritized)</td>
<td>any</td>
</tr>
<tr class="even">
<td>simdesign_lhs</td>
<td>min, max, qfun</td>
<td>numeric</td>
</tr>
<tr class="odd">
<td>simdesign_sobol</td>
<td>min, max, qfun</td>
<td>numeric</td>
</tr>
<tr class="even">
<td>simdesign_sobol2007</td>
<td>min, max, qfun</td>
<td>numeric</td>
</tr>
<tr class="odd">
<td>simdesign_soboljansen</td>
<td>min, max, qfun</td>
<td>numeric</td>
</tr>
<tr class="even">
<td>simdesign_morris</td>
<td>min, max, qfun</td>
<td>numeric</td>
</tr>
<tr class="odd">
<td>simdesign_eFast</td>
<td>min, max, qfun</td>
<td>numeric</td>
</tr>
<tr class="even">
<td>simdesign_genSA</td>
<td>min, max</td>
<td>numeric</td>
</tr>
<tr class="odd">
<td>simdesign_genAlg</td>
<td>min, max</td>
<td>numeric</td>
</tr>
</tbody>
</table>
<p>Categorical variable values are currently only allowed for simdesign_simple, simdesign_distinct and simdesign_ff. Variable values that should be recognized by NetLogo as strings need to be nested inside escaped quotes (e.g. “\”string\“”). Variable values that should be recognized by NetLogo as logical need to be entered as strings (e.g. “false”).</p>
</div>
<div id="comments-on-self-written-output" class="section level4">
<h4 class="hasAnchor">
<a href="#comments-on-self-written-output" class="anchor"></a>Comments on self-written output</h4>
<p>The experiment provides a slot called “idrunnum”. This slot can be used to transfer the current nlrx experiment name, random seed and runnumber (siminputrow) to NetLogo. To use this functionality, a string input field widget needs to be created on the GUI of your NetLogo model. The name of this widget can be entered into the “idrunnum” field of the experiment. During simulations, the value of this widget is automatically updated with a generated string that contains the current nlrx experiment name, random seed and siminputrow (“expname_seed_siminputrow”). For self-written output In NetLogo, we suggest to include this global vairable which allows referencing the self-written output files to the collected output of the nlrx simulations in R.</p>
</div>
<div id="comments-on-seed-management" class="section level4">
<h4 class="hasAnchor">
<a href="#comments-on-seed-management" class="anchor"></a>Comments on seed management</h4>
<p>The experiment provides a slot called “repetition” which allows to run multiple simulations of one parameterization. This is only useful if you manually generate a new random-seed during the setup of your model. By default, the NetLogo random-seed is set by the simdesign that is attached to your nl object. If your model does not reset the random seed manually, the seed will always be the same for each repetition.</p>
<p>However, the concept of nlrx is based on sensitivity analyses. Here, you may want to exclude stoachsticity from your output and instead do multiple sensitivity analyses with the same parameter matrix but different random seeds. You can then observe the effect of stochasticity on the level of your final output, the sensitivity indices. Thus we suggest to set the experiment repetition to 1 and instead use the nseeds variable of the desired simdesign to run multiple simulations with different random seeds.</p>
<p>In summary, if you set the random-seed of your NetLogo model manually, you can increase the repitition of the experiment to run several simulations with equal parameterization and different random seeds. Otherwise, set the experiment repetition to 1 and increase the nseeds variable of your desired simdesign.</p>
</div>
<div id="comments-on-measurements" class="section level4">
<h4 class="hasAnchor">
<a href="#comments-on-measurements" class="anchor"></a>Comments on measurements</h4>
<p>Three slots of the experiment class define how measurements are taken:</p>
<ul>
<li><p>tickmetrics, defines if measurements are taken at the end of the simulation or on each tick</p></li>
<li><p>evalticks, if tickmetrics = “true” evalticks can be used to filter the results for defined ticks</p></li>
<li><p>metrics, definition of valid NetLogo reporters that are used to collect data</p></li>
</ul>
<p>Due to the evalticks definition, it might happen, that a simulation stops before any output has been collected. In such cases, output is still reported but all metrics that could not be collected for any defined evalticks will be filled up with NA.</p>
<p>Although the metrics slot accepts any valid NetLogo reporter, such as “count patches”, reporter strings can become quite long and confusing. We suggest to create NetLogo reporter procedures for complex reporters in order to get a nice and clear results data frame. For example, the NetLogo reporter “count patches with [pcolor = green]” could be written as a NetLogo reporter function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">to<span class="op">-</span>report green.patches
  report count patches with [pcolor =<span class="st"> </span>green]
end</code></pre></div>
<p>In your nlrx experiment metrics field you can then enter “green.patches” which is way more intuitive then “count patches with [pcolor = green]”.</p>
</div>
<div id="further-notes-on-the-future-concept" class="section level4">
<h4 class="hasAnchor">
<a href="#further-notes-on-the-future-concept" class="anchor"></a>Further notes on the future concept</h4>
<p>The run_nl_all function uses the map_dfr functions from the furrr package. The simulations are executed in a nested loop where the outer loop iterates over the random seeds of your simdesign, and the inner loop iterates over the rows of the siminput parameter matrix of your simdesign.</p>
<p>We suggest to always use a future operator (%&lt;-%) when you call this function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">future<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/future/topics/plan">plan</a></span>(multisession)

results <span class="op">%&lt;-%</span><span class="st"> </span><span class="kw"><a href="reference/run_nl_all.html">run_nl_all</a></span>(<span class="dt">nl =</span> nl, <span class="dt">cleanup =</span> <span class="st">"all"</span>)</code></pre></div>
</div>
</div>
<div id="further-wolf-sheep-examples-for-all-implemented-simdesigns" class="section level2">
<h2 class="hasAnchor">
<a href="#further-wolf-sheep-examples-for-all-implemented-simdesigns" class="anchor"></a>Further Wolf Sheep examples for all implemented simdesigns</h2>
<p>The following section provides valid experiment setups for all supported simdesigns using the Wolf Sheep Model from the NetLogo models library.</p>
<p>First we set up a nl object. We use this nl object for all simdesigns:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nl &lt;-<span class="st"> </span><span class="kw"><a href="reference/nl.html">nl</a></span>(<span class="dt">nlversion =</span> <span class="st">"6.0.3"</span>,
         <span class="dt">nlpath =</span> <span class="st">"C:/Program Files/NetLogo 6.0.3/"</span>,
         <span class="dt">modelpath =</span> <span class="st">"C:/Program Files/NetLogo 6.0.3/app/models/Sample Models/Biology/Wolf Sheep Predation.nlogo"</span>,
         <span class="dt">jvmmem =</span> <span class="dv">1024</span>)</code></pre></div>
<div id="simdesign_simple" class="section level5">
<h5 class="hasAnchor">
<a href="#simdesign_simple" class="anchor"></a>simdesign_simple</h5>
<p>To setup a simple simdesign, no variables have to be defined. The simple simdesign only uses defined constants and reports a parameter matrix with only one parameterization.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nl<span class="op">@</span>experiment &lt;-<span class="st"> </span><span class="kw"><a href="reference/experiment.html">experiment</a></span>(<span class="dt">expname=</span><span class="st">"wolf-sheep"</span>,
                            <span class="dt">outpath=</span><span class="st">"C:/out/"</span>,
                            <span class="dt">repetition=</span><span class="dv">1</span>,
                            <span class="dt">tickmetrics=</span><span class="st">"true"</span>,
                            <span class="dt">idsetup=</span><span class="st">"setup"</span>,
                            <span class="dt">idgo=</span><span class="st">"go"</span>,
                            <span class="dt">idfinal=</span><span class="ot">NA_character_</span>,
                            <span class="dt">idrunnum=</span><span class="ot">NA_character_</span>,
                            <span class="dt">runtime=</span><span class="dv">50</span>,
                            <span class="dt">evalticks=</span><span class="kw">seq</span>(<span class="dv">40</span>,<span class="dv">50</span>),
                            <span class="dt">metrics=</span><span class="kw">c</span>(<span class="st">"count sheep"</span>, <span class="st">"count wolves"</span>, <span class="st">"count patches with [pcolor = green]"</span>),
                            <span class="dt">variables =</span> <span class="kw">list</span>(),
                            <span class="dt">constants =</span> <span class="kw">list</span>(<span class="st">"initial-number-sheep"</span> =<span class="st"> </span><span class="dv">20</span>,
                                             <span class="st">"initial-number-wolves"</span> =<span class="st"> </span><span class="dv">20</span>,
                                             <span class="st">"model-version"</span> =<span class="st"> "</span><span class="ch">\"</span><span class="st">sheep-wolves-grass</span><span class="ch">\"</span><span class="st">"</span>,
                                             <span class="st">"grass-regrowth-time"</span> =<span class="st"> </span><span class="dv">30</span>,
                                             <span class="st">"sheep-gain-from-food"</span> =<span class="st"> </span><span class="dv">4</span>,
                                             <span class="st">"wolf-gain-from-food"</span> =<span class="st"> </span><span class="dv">20</span>,
                                             <span class="st">"sheep-reproduce"</span> =<span class="st"> </span><span class="dv">4</span>,
                                             <span class="st">"wolf-reproduce"</span> =<span class="st"> </span><span class="dv">5</span>,
                                             <span class="st">"show-energy?"</span> =<span class="st"> "false"</span>))

nl<span class="op">@</span>simdesign &lt;-<span class="st"> </span><span class="kw"><a href="reference/simdesign_simple.html">simdesign_simple</a></span>(<span class="dt">nl=</span>nl,
                                 <span class="dt">nseeds=</span><span class="dv">3</span>)</code></pre></div>
</div>
<div id="simdesign_distinct" class="section level5">
<h5 class="hasAnchor">
<a href="#simdesign_distinct" class="anchor"></a>simdesign_distinct</h5>
<p>To setup a distinct simdesign, vectors of values need to be defined for each variable. These vectors must have the same number of elemtents across all variables.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nl<span class="op">@</span>experiment &lt;-<span class="st"> </span><span class="kw"><a href="reference/experiment.html">experiment</a></span>(<span class="dt">expname=</span><span class="st">"wolf-sheep"</span>,
                            <span class="dt">outpath=</span><span class="st">"C:/out/"</span>,
                            <span class="dt">repetition=</span><span class="dv">1</span>,
                            <span class="dt">tickmetrics=</span><span class="st">"true"</span>,
                            <span class="dt">idsetup=</span><span class="st">"setup"</span>,
                            <span class="dt">idgo=</span><span class="st">"go"</span>,
                            <span class="dt">idfinal=</span><span class="ot">NA_character_</span>,
                            <span class="dt">idrunnum=</span><span class="ot">NA_character_</span>,
                            <span class="dt">runtime=</span><span class="dv">50</span>,
                            <span class="dt">evalticks=</span><span class="kw">seq</span>(<span class="dv">40</span>,<span class="dv">50</span>),
                            <span class="dt">metrics=</span><span class="kw">c</span>(<span class="st">"count sheep"</span>, <span class="st">"count wolves"</span>, <span class="st">"count patches with [pcolor = green]"</span>),
                            <span class="dt">variables =</span> <span class="kw">list</span>(<span class="st">'initial-number-sheep'</span> =<span class="st"> </span><span class="kw">list</span>(<span class="dt">values=</span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>)),
                                             <span class="st">'initial-number-wolves'</span> =<span class="st"> </span><span class="kw">list</span>(<span class="dt">values=</span><span class="kw">c</span>(<span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>))),
                            <span class="dt">constants =</span> <span class="kw">list</span>(<span class="st">"model-version"</span> =<span class="st"> "</span><span class="ch">\"</span><span class="st">sheep-wolves-grass</span><span class="ch">\"</span><span class="st">"</span>,
                                             <span class="st">"grass-regrowth-time"</span> =<span class="st"> </span><span class="dv">30</span>,
                                             <span class="st">"sheep-gain-from-food"</span> =<span class="st"> </span><span class="dv">4</span>,
                                             <span class="st">"wolf-gain-from-food"</span> =<span class="st"> </span><span class="dv">20</span>,
                                             <span class="st">"sheep-reproduce"</span> =<span class="st"> </span><span class="dv">4</span>,
                                             <span class="st">"wolf-reproduce"</span> =<span class="st"> </span><span class="dv">5</span>,
                                             <span class="st">"show-energy?"</span> =<span class="st"> "false"</span>))

nl<span class="op">@</span>simdesign &lt;-<span class="st"> </span><span class="kw"><a href="reference/simdesign_distinct.html">simdesign_distinct</a></span>(<span class="dt">nl=</span>nl,
                                   <span class="dt">nseeds=</span><span class="dv">3</span>)</code></pre></div>
</div>
<div id="simdesign_ff" class="section level5">
<h5 class="hasAnchor">
<a href="#simdesign_ff" class="anchor"></a>simdesign_ff</h5>
<p>To setup a full-factorial simdesign, vectors of values need to be defined for each variables. Alternatively, a sequence can be defined by setting min, max and step. However, if both (values and min, max, step) are defined, the values vector is prioritized.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nl<span class="op">@</span>experiment &lt;-<span class="st"> </span><span class="kw"><a href="reference/experiment.html">experiment</a></span>(<span class="dt">expname=</span><span class="st">"wolf-sheep"</span>,
                            <span class="dt">outpath=</span><span class="st">"C:/out/"</span>,
                            <span class="dt">repetition=</span><span class="dv">1</span>,
                            <span class="dt">tickmetrics=</span><span class="st">"true"</span>,
                            <span class="dt">idsetup=</span><span class="st">"setup"</span>,
                            <span class="dt">idgo=</span><span class="st">"go"</span>,
                            <span class="dt">idfinal=</span><span class="ot">NA_character_</span>,
                            <span class="dt">idrunnum=</span><span class="ot">NA_character_</span>,
                            <span class="dt">runtime=</span><span class="dv">50</span>,
                            <span class="dt">evalticks=</span><span class="kw">seq</span>(<span class="dv">40</span>,<span class="dv">50</span>),
                            <span class="dt">metrics=</span><span class="kw">c</span>(<span class="st">"count sheep"</span>, <span class="st">"count wolves"</span>, <span class="st">"count patches with [pcolor = green]"</span>),
                            <span class="dt">variables =</span> <span class="kw">list</span>(<span class="st">'initial-number-sheep'</span> =<span class="st"> </span><span class="kw">list</span>(<span class="dt">values=</span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>)),
                                             <span class="st">'initial-number-wolves'</span> =<span class="st"> </span><span class="kw">list</span>(<span class="dt">min=</span><span class="dv">0</span>, <span class="dt">max=</span><span class="dv">50</span>, <span class="dt">step=</span><span class="dv">10</span>)),
                            <span class="dt">constants =</span> <span class="kw">list</span>(<span class="st">"model-version"</span> =<span class="st"> "</span><span class="ch">\"</span><span class="st">sheep-wolves-grass</span><span class="ch">\"</span><span class="st">"</span>,
                                             <span class="st">"grass-regrowth-time"</span> =<span class="st"> </span><span class="dv">30</span>,
                                             <span class="st">"sheep-gain-from-food"</span> =<span class="st"> </span><span class="dv">4</span>,
                                             <span class="st">"wolf-gain-from-food"</span> =<span class="st"> </span><span class="dv">20</span>,
                                             <span class="st">"sheep-reproduce"</span> =<span class="st"> </span><span class="dv">4</span>,
                                             <span class="st">"wolf-reproduce"</span> =<span class="st"> </span><span class="dv">5</span>,
                                             <span class="st">"show-energy?"</span> =<span class="st"> "false"</span>))

nl<span class="op">@</span>simdesign &lt;-<span class="st"> </span><span class="kw"><a href="reference/simdesign_ff.html">simdesign_ff</a></span>(<span class="dt">nl=</span>nl,
                             <span class="dt">nseeds=</span><span class="dv">3</span>)</code></pre></div>
</div>
<div id="simdesign_lhs-_sobol-_sobol2007-_soboljansen-_morris-_efast" class="section level5">
<h5 class="hasAnchor">
<a href="#simdesign_lhs-_sobol-_sobol2007-_soboljansen-_morris-_efast" class="anchor"></a>simdesign_lhs, _sobol, _sobol2007, _soboljansen, _morris, _eFast</h5>
<p>To setup sensitivity analysis simdesigns, variable distributions (min, max, qfun) need to be defined.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nl<span class="op">@</span>experiment &lt;-<span class="st"> </span><span class="kw"><a href="reference/experiment.html">experiment</a></span>(<span class="dt">expname=</span><span class="st">"wolf-sheep"</span>,
                            <span class="dt">outpath=</span><span class="st">"C:/out/"</span>,
                            <span class="dt">repetition=</span><span class="dv">1</span>,
                            <span class="dt">tickmetrics=</span><span class="st">"true"</span>,
                            <span class="dt">idsetup=</span><span class="st">"setup"</span>,
                            <span class="dt">idgo=</span><span class="st">"go"</span>,
                            <span class="dt">idfinal=</span><span class="ot">NA_character_</span>,
                            <span class="dt">idrunnum=</span><span class="ot">NA_character_</span>,
                            <span class="dt">runtime=</span><span class="dv">50</span>,
                            <span class="dt">evalticks=</span><span class="kw">seq</span>(<span class="dv">40</span>,<span class="dv">50</span>),
                            <span class="dt">metrics=</span><span class="kw">c</span>(<span class="st">"count sheep"</span>, <span class="st">"count wolves"</span>, <span class="st">"count patches with [pcolor = green]"</span>),
                            <span class="dt">variables =</span> <span class="kw">list</span>(<span class="st">'initial-number-sheep'</span> =<span class="st"> </span><span class="kw">list</span>(<span class="dt">min=</span><span class="dv">50</span>, <span class="dt">max=</span><span class="dv">150</span>, <span class="dt">qfun=</span><span class="st">"qunif"</span>),
                                             <span class="st">'initial-number-wolves'</span> =<span class="st"> </span><span class="kw">list</span>(<span class="dt">min=</span><span class="dv">50</span>, <span class="dt">max=</span><span class="dv">150</span>, <span class="dt">qfun=</span><span class="st">"qunif"</span>)),
                            <span class="dt">constants =</span> <span class="kw">list</span>(<span class="st">"model-version"</span> =<span class="st"> "</span><span class="ch">\"</span><span class="st">sheep-wolves-grass</span><span class="ch">\"</span><span class="st">"</span>,
                                             <span class="st">"grass-regrowth-time"</span> =<span class="st"> </span><span class="dv">30</span>,
                                             <span class="st">"sheep-gain-from-food"</span> =<span class="st"> </span><span class="dv">4</span>,
                                             <span class="st">"wolf-gain-from-food"</span> =<span class="st"> </span><span class="dv">20</span>,
                                             <span class="st">"sheep-reproduce"</span> =<span class="st"> </span><span class="dv">4</span>,
                                             <span class="st">"wolf-reproduce"</span> =<span class="st"> </span><span class="dv">5</span>,
                                             <span class="st">"show-energy?"</span> =<span class="st"> "false"</span>))

nl<span class="op">@</span>simdesign &lt;-<span class="st"> </span><span class="kw"><a href="reference/simdesign_lhs.html">simdesign_lhs</a></span>(<span class="dt">nl=</span>nl,
                               <span class="dt">samples=</span><span class="dv">100</span>,
                               <span class="dt">nseeds=</span><span class="dv">3</span>,
                               <span class="dt">precision=</span><span class="dv">3</span>)


nl<span class="op">@</span>simdesign &lt;-<span class="st"> </span><span class="kw"><a href="reference/simdesign_sobol.html">simdesign_sobol</a></span>(<span class="dt">nl=</span>nl,
                                 <span class="dt">samples=</span><span class="dv">200</span>,
                                 <span class="dt">sobolorder=</span><span class="dv">2</span>,
                                 <span class="dt">sobolnboot=</span><span class="dv">20</span>,
                                 <span class="dt">sobolconf=</span><span class="fl">0.95</span>,
                                 <span class="dt">nseeds=</span><span class="dv">3</span>,
                                 <span class="dt">precision=</span><span class="dv">3</span>)

nl<span class="op">@</span>simdesign &lt;-<span class="st"> </span><span class="kw"><a href="reference/simdesign_sobol2007.html">simdesign_sobol2007</a></span>(<span class="dt">nl=</span>nl,
                                     <span class="dt">samples=</span><span class="dv">200</span>,
                                     <span class="dt">sobolnboot=</span><span class="dv">20</span>,
                                     <span class="dt">sobolconf=</span><span class="fl">0.95</span>,
                                     <span class="dt">nseeds=</span><span class="dv">3</span>,
                                     <span class="dt">precision=</span><span class="dv">3</span>)

nl<span class="op">@</span>simdesign &lt;-<span class="st"> </span><span class="kw"><a href="reference/simdesign_soboljansen.html">simdesign_soboljansen</a></span>(<span class="dt">nl=</span>nl,
                                       <span class="dt">samples=</span><span class="dv">200</span>,
                                       <span class="dt">sobolnboot=</span><span class="dv">20</span>,
                                       <span class="dt">sobolconf=</span><span class="fl">0.95</span>,
                                       <span class="dt">nseeds=</span><span class="dv">3</span>,
                                       <span class="dt">precision=</span><span class="dv">3</span>)


nl<span class="op">@</span>simdesign &lt;-<span class="st"> </span><span class="kw"><a href="reference/simdesign_morris.html">simdesign_morris</a></span>(<span class="dt">nl=</span>nl,
                                  <span class="dt">morristype=</span><span class="st">"oat"</span>,
                                  <span class="dt">morrislevels=</span><span class="dv">4</span>,
                                  <span class="dt">morrisr=</span><span class="dv">100</span>,
                                  <span class="dt">morrisgridjump=</span><span class="dv">2</span>,
                                  <span class="dt">nseeds=</span><span class="dv">3</span>)

nl<span class="op">@</span>simdesign &lt;-<span class="st"> </span><span class="kw"><a href="reference/simdesign_eFast.html">simdesign_eFast</a></span>(<span class="dt">nl=</span>nl,
                                 <span class="dt">samples=</span><span class="dv">100</span>,
                                 <span class="dt">nseeds=</span><span class="dv">3</span>)</code></pre></div>
</div>
<div id="simdesign_gensa-_genalg" class="section level5">
<h5 class="hasAnchor">
<a href="#simdesign_gensa-_genalg" class="anchor"></a>simdesign_GenSA, _GenAlg</h5>
<p>To setup optimization simdesigns, variable ranges (min, max) need to be defined.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nl<span class="op">@</span>experiment &lt;-<span class="st"> </span><span class="kw"><a href="reference/experiment.html">experiment</a></span>(<span class="dt">expname=</span><span class="st">"wolf-sheep"</span>,
                            <span class="dt">outpath=</span><span class="st">"C:/out/"</span>,
                            <span class="dt">repetition=</span><span class="dv">1</span>,
                            <span class="dt">tickmetrics=</span><span class="st">"true"</span>,
                            <span class="dt">idsetup=</span><span class="st">"setup"</span>,
                            <span class="dt">idgo=</span><span class="st">"go"</span>,
                            <span class="dt">idfinal=</span><span class="ot">NA_character_</span>,
                            <span class="dt">idrunnum=</span><span class="ot">NA_character_</span>,
                            <span class="dt">runtime=</span><span class="dv">50</span>,
                            <span class="dt">evalticks=</span><span class="kw">seq</span>(<span class="dv">40</span>,<span class="dv">50</span>),
                            <span class="dt">metrics=</span><span class="kw">c</span>(<span class="st">"count sheep"</span>, <span class="st">"count wolves"</span>, <span class="st">"count patches with [pcolor = green]"</span>),
                            <span class="dt">variables =</span> <span class="kw">list</span>(<span class="st">'initial-number-sheep'</span> =<span class="st"> </span><span class="kw">list</span>(<span class="dt">min=</span><span class="dv">50</span>, <span class="dt">max=</span><span class="dv">150</span>),
                                             <span class="st">'initial-number-wolves'</span> =<span class="st"> </span><span class="kw">list</span>(<span class="dt">min=</span><span class="dv">50</span>, <span class="dt">max=</span><span class="dv">150</span>)),
                            <span class="dt">constants =</span> <span class="kw">list</span>(<span class="st">"model-version"</span> =<span class="st"> "</span><span class="ch">\"</span><span class="st">sheep-wolves-grass</span><span class="ch">\"</span><span class="st">"</span>,
                                             <span class="st">"grass-regrowth-time"</span> =<span class="st"> </span><span class="dv">30</span>,
                                             <span class="st">"sheep-gain-from-food"</span> =<span class="st"> </span><span class="dv">4</span>,
                                             <span class="st">"wolf-gain-from-food"</span> =<span class="st"> </span><span class="dv">20</span>,
                                             <span class="st">"sheep-reproduce"</span> =<span class="st"> </span><span class="dv">4</span>,
                                             <span class="st">"wolf-reproduce"</span> =<span class="st"> </span><span class="dv">5</span>,
                                             <span class="st">"show-energy?"</span> =<span class="st"> "false"</span>))

nl<span class="op">@</span>simdesign &lt;-<span class="st"> </span><span class="kw"><a href="reference/simdesign_GenAlg.html">simdesign_GenAlg</a></span>(<span class="dt">nl=</span>nl, 
                                 <span class="dt">popSize =</span> <span class="dv">200</span>, 
                                 <span class="dt">iters =</span> <span class="dv">100</span>, 
                                 <span class="dt">evalcrit =</span> <span class="dv">1</span>,
                                 <span class="dt">elitism =</span> <span class="ot">NA</span>, 
                                 <span class="dt">mutationChance =</span> <span class="ot">NA</span>, 
                                 <span class="dt">nseeds =</span> <span class="dv">1</span>)

nl<span class="op">@</span>simdesign &lt;-<span class="st"> </span><span class="kw"><a href="reference/simdesign_GenSA.html">simdesign_GenSA</a></span>(<span class="dt">nl=</span>nl,
                                <span class="dt">par=</span><span class="ot">NULL</span>,
                                <span class="dt">evalcrit=</span><span class="dv">1</span>,
                                <span class="dt">control=</span><span class="kw">list</span>(<span class="dt">max.time =</span> <span class="dv">600</span>),
                                <span class="dt">nseeds=</span><span class="dv">1</span>)</code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/nldoc/nlrx">https://​github.com/​nldoc/​nlrx</a>
</li>
<li>Report a bug at <br><a href="https://github.com/nldoc/nlrx/issues/">https://​github.com/​nldoc/​nlrx/​issues/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Jan Salecker <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-9000-4229" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" height="16"></a> </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://ci.appveyor.com/project/nldoc/nlrx"><img src="https://ci.appveyor.com/api/projects/status/github/nldoc/nlrx?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://travis-ci.org/nldoc/nlrx"><img src="https://travis-ci.org/nldoc/nlrx.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="lifecycle"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jan Salecker.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
